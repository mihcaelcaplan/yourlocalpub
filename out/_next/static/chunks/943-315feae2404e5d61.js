(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[943],{5833:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(7437),i=n(2265),o=n(6176);function s(e){let{publication_key:t,isHidden:n,setHidden:i}=e;return(0,r.jsxs)("div",{className:n+" fixed top-1/3 md:top-[25%] left-[17%] flex flex-col h-2/6 md:h-1/2 w-4/6 bg-slate-100 z-10 shadow-2xl",children:[(0,r.jsx)("div",{className:"bg-stone-200 p-1",children:(0,r.jsx)("div",{className:"text-[0.7rem] rounded-full bg-red-500 hover:bg-red-800 w-4 h-4 text-center ml-auto",onClick:()=>{i("hidden")},children:"X"})}),(0,r.jsxs)("div",{className:"text-center m-auto",children:["You're a right good pub-goer.",(0,r.jsx)("br",{}),"Well on ya, mate!",(0,r.jsx)("br",{})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 mt-auto mb-auto text-center p-8",children:[(0,r.jsx)("a",{className:"mr-4 bg-amber-200 hover:bg-amber-400",href:"/",children:"Continue Shopping"}),(0,r.jsx)("a",{className:" ml-4 bg-cyan-500 hover:bg-cyan-600",href:"/cart",children:"Go To Cart"})]})]})}function a(e){let{publication_key:t}=e,[n,a]=(0,i.useContext)(o.A),[u,c]=(0,i.useState)("hidden");return(0,r.jsxs)("div",{children:[(0,r.jsx)(s,{isHidden:u,setHidden:c,publication_key:t}),(0,r.jsx)("div",{href:"/cart",className:"h-6 w-auto p-4 bg-slate-100 text-stone-800 hover:bg-amber-50 border-rose-100 border-2 rounded-full text-center align-middle  text-[.75] leading-[0rem] sm:text-[1.25rem] sm:leading-[0rem] ",onClick:()=>{!function(){let e={...n};e[t]?e[t].quantity+=1:e[t]={quantity:1},console.log(e),a(t=>({...e}))}(),c("visible")},children:"Add To Cart"})]})}},6176:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(2265);let i=(0,r.createContext)([])},134:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(7437);n(3563);var i=n(6691),o=n.n(i),s=n(2265);function a(e){let{publication:t,image_paths:n}=e,[i,a]=(0,s.useState)(!1),[u,c]=(0,s.useState)(t.coverImage);n.filter(e=>e!=u);let l=e=>{if("bg"==e.target.id)a(!1);else if("forward"==e.target.id){let e=(n.indexOf(u)+1)%n.length;c(n[e])}else if("back"==e.target.id){let e=((n.indexOf(u)-1)%n.length+n.length)%n.length;c(n[e])}};return(0,r.jsxs)("div",{className:"pb-6 sm:pl-10 sm:pr-10 flex flex-col",children:[(0,r.jsx)(o(),{className:i?"fixed z-20 md:max-w-[75%] top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2":"pb-4",priority:!0,src:u,alt:"$(publication.title) cover image",width:100,height:100,sizes:"100vw",style:{width:"100%",height:"auto"},onClick:()=>{a(!0)}}),(0,r.jsx)("div",{className:"flex grid-flow-col overflow-scroll md:h-40 h-20",children:n.map(e=>(0,r.jsx)(o(),{className:e===u?"pr-2 opacity-100":"pr-2 opacity-50",onClick:()=>c(e),src:e,alt:"$(publication.title) cover image",width:100,height:100,sizes:"100vw",style:{width:"100%",height:"auto"}},e))}),i&&(0,r.jsxs)("div",{id:"bg",className:"bg-black fixed top-0 left-0 h-screen w-screen z-10",onClick:e=>l(e),children:[(0,r.jsx)("div",{id:"back",className:"fixed z-30 left-0  opacity-60 h-full text-white text-[5rem] p-4",onClick:e=>l(e),children:(0,r.jsx)("div",{id:"back",className:" relative top-1/2 -translate-y-1/2",children:"<"})}),(0,r.jsx)("div",{id:"forward",className:"fixed z-30 right-0 opacity-60 h-full text-white text-[5rem] p-4 shadow-2xl shadow-rose-700",onClick:e=>l(e),children:(0,r.jsx)("div",{id:"forward",className:"relative top-1/2 -translate-y-1/2",children:">"})})]})]})}},8724:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(7437),i=n(5833),o=n(2265);let s=async e=>{let t=await fetch("https://p3p22yr8sg.execute-api.eu-west-2.amazonaws.com/default/checkInventory?"+new URLSearchParams({productId:e}));if(t.ok){let e=await t.json();return console.log(e),e}};function a(e){let{publication:t,publication_key:n}=e,[a,u]=(0,o.useState)({soldOut:!1,itemsLeft:0});return(0,o.useEffect)(()=>{console.log("updating inv."),s(n).then(e=>{let n=!(e.lockedInventory<=t.stockQuantity),r=t.stockQuantity-e.lockedInventory;u({soldOut:n,itemsLeft:r})})},[]),(0,r.jsxs)("div",{className:"grid grid-cols-1 m-2 sm:m-6",children:[(0,r.jsx)("b",{children:t.title}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"Published: "+t.publicationYear}),(0,r.jsx)("li",{children:t.detail})]}),(0,r.jsx)("p",{className:"mt-2 mb-4 w-inherit",children:t.info}),(0,r.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("div",{children:"Edition of ".concat(t.stockQuantity," (").concat(a.itemsLeft," copies left!)")}),(0,r.jsx)("div",{children:"\xa3"+t.price})]}),a.soldOut&&(0,r.jsx)("div",{className:"h-6 w-auto p-4 bg-rose-100 text-stone-800 border-rose-400 border-2 rounded-full text-center align-middle  text-[.75] leading-[0rem] sm:text-[1.25rem] sm:leading-[0rem]",children:" Sold out!"}),!a.soldOut&&(0,r.jsx)(i.default,{publication_key:n})]})]})}},3563:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{MODERN_BROWSERSLIST_TARGET:function(){return i.default},COMPILER_NAMES:function(){return o},COMPILER_INDEXES:function(){return s},PHASE_EXPORT:function(){return a},PHASE_PRODUCTION_BUILD:function(){return u},PHASE_PRODUCTION_SERVER:function(){return c},PHASE_DEVELOPMENT_SERVER:function(){return l},PHASE_TEST:function(){return f},PHASE_INFO:function(){return _},PAGES_MANIFEST:function(){return d},APP_PATHS_MANIFEST:function(){return E},APP_PATH_ROUTES_MANIFEST:function(){return T},BUILD_MANIFEST:function(){return m},APP_BUILD_MANIFEST:function(){return I},FUNCTIONS_CONFIG_MANIFEST:function(){return S},SUBRESOURCE_INTEGRITY_MANIFEST:function(){return N},NEXT_FONT_MANIFEST:function(){return p},EXPORT_MARKER:function(){return h},EXPORT_DETAIL:function(){return A},PRERENDER_MANIFEST:function(){return R},ROUTES_MANIFEST:function(){return g},IMAGES_MANIFEST:function(){return x},SERVER_FILES_MANIFEST:function(){return v},DEV_CLIENT_PAGES_MANIFEST:function(){return C},MIDDLEWARE_MANIFEST:function(){return L},DEV_MIDDLEWARE_MANIFEST:function(){return P},REACT_LOADABLE_MANIFEST:function(){return O},FONT_MANIFEST:function(){return b},SERVER_DIRECTORY:function(){return M},CONFIG_FILES:function(){return j},BUILD_ID_FILE:function(){return F},BLOCKED_PAGES:function(){return y},CLIENT_PUBLIC_FILES_PATH:function(){return D},CLIENT_STATIC_FILES_PATH:function(){return w},CLIENT_STATIC_FILES_RUNTIME:function(){return U},STRING_LITERAL_DROP_BUNDLE:function(){return k},NEXT_BUILTIN_DOCUMENT:function(){return B},NEXT_CLIENT_SSR_ENTRY_SUFFIX:function(){return G},CLIENT_REFERENCE_MANIFEST:function(){return Y},SERVER_REFERENCE_MANIFEST:function(){return W},MIDDLEWARE_BUILD_MANIFEST:function(){return z},MIDDLEWARE_REACT_LOADABLE_MANIFEST:function(){return H},CLIENT_STATIC_FILES_RUNTIME_MAIN:function(){return V},CLIENT_STATIC_FILES_RUNTIME_MAIN_APP:function(){return X},APP_CLIENT_INTERNALS:function(){return K},CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH:function(){return Q},CLIENT_STATIC_FILES_RUNTIME_AMP:function(){return q},CLIENT_STATIC_FILES_RUNTIME_WEBPACK:function(){return $},CLIENT_STATIC_FILES_RUNTIME_POLYFILLS:function(){return Z},CLIENT_STATIC_FILES_RUNTIME_POLYFILLS_SYMBOL:function(){return J},EDGE_RUNTIME_WEBPACK:function(){return ee},TEMPORARY_REDIRECT_STATUS:function(){return et},PERMANENT_REDIRECT_STATUS:function(){return en},STATIC_PROPS_ID:function(){return er},SERVER_PROPS_ID:function(){return ei},PAGE_SEGMENT_KEY:function(){return eo},GOOGLE_FONT_PROVIDER:function(){return es},OPTIMIZED_FONT_PROVIDERS:function(){return ea},DEFAULT_SERIF_FONT:function(){return eu},DEFAULT_SANS_SERIF_FONT:function(){return ec},STATIC_STATUS_PAGES:function(){return el},TRACE_OUTPUT_VERSION:function(){return ef},TURBO_TRACE_DEFAULT_MEMORY_LIMIT:function(){return e_},RSC_MODULE_TYPES:function(){return ed},EDGE_UNSUPPORTED_NODE_APIS:function(){return eE},SYSTEM_ENTRYPOINTS:function(){return eT}});let r=n(1024),i=r._(n(4071)),o={client:"client",server:"server",edgeServer:"edge-server"},s={[o.client]:0,[o.server]:1,[o.edgeServer]:2},a="phase-export",u="phase-production-build",c="phase-production-server",l="phase-development-server",f="phase-test",_="phase-info",d="pages-manifest.json",E="app-paths-manifest.json",T="app-path-routes-manifest.json",m="build-manifest.json",I="app-build-manifest.json",S="functions-config-manifest.json",N="subresource-integrity-manifest",p="next-font-manifest",h="export-marker.json",A="export-detail.json",R="prerender-manifest.json",g="routes-manifest.json",x="images-manifest.json",v="required-server-files.json",C="_devPagesManifest.json",L="middleware-manifest.json",P="_devMiddlewareManifest.json",O="react-loadable-manifest.json",b="font-manifest.json",M="server",j=["next.config.js","next.config.mjs"],F="BUILD_ID",y=["/_document","/_app","/_error"],D="public",w="static",U="runtime",k="__NEXT_DROP_CLIENT_FILE__",B="__NEXT_BUILTIN_DOCUMENT__",G=".__ssr__",Y="client-reference-manifest",W="server-reference-manifest",z="middleware-build-manifest",H="middleware-react-loadable-manifest",V="main",X=""+V+"-app",K="app-pages-internals",Q="react-refresh",q="amp",$="webpack",Z="polyfills",J=Symbol(Z),ee="edge-runtime-webpack",et=307,en=308,er="__N_SSG",ei="__N_SSP",eo="__PAGE__",es="https://fonts.googleapis.com/",ea=[{url:es,preconnect:"https://fonts.gstatic.com"},{url:"https://use.typekit.net",preconnect:"https://use.typekit.net"}],eu={name:"Times New Roman",xAvgCharWidth:821,azAvgWidth:854.3953488372093,unitsPerEm:2048},ec={name:"Arial",xAvgCharWidth:904,azAvgWidth:934.5116279069767,unitsPerEm:2048},el=["/500"],ef=1,e_=6e3,ed={client:"client",server:"server"},eE=["clearImmediate","setImmediate","BroadcastChannel","ByteLengthQueuingStrategy","CompressionStream","CountQueuingStrategy","DecompressionStream","DomException","MessageChannel","MessageEvent","MessagePort","ReadableByteStreamController","ReadableStreamBYOBRequest","ReadableStreamDefaultController","TransformStreamDefaultController","WritableStreamDefaultController"],eT=new Set([V,Q,q,X]);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1295:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return c},unstable_getImgProps:function(){return u}});let r=n(1024),i=n(2301),o=n(7873),s=n(3222),a=r._(n(5033)),u=e=>{(0,o.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:t}=(0,i.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}},c=s.Image},4071:function(e){"use strict";e.exports=["chrome 64","edge 79","firefox 67","opera 51","safari 12"]},622:function(e,t,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2265),i=Symbol.for("react.element"),o=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,u={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!a.hasOwnProperty(r)&&(u[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===u[r]&&(u[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:u,_owner:s.current}}t.jsx=u,t.jsxs=u},7437:function(e,t,n){"use strict";e.exports=n(622)},6691:function(e,t,n){e.exports=n(1295)}}]);