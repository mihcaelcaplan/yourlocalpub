(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[943],{5833:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(7437),i=n(2265),o=n(6176);function s(e){let{publication_key:t,isHidden:n,setHidden:i}=e;return(0,r.jsxs)("div",{className:n+" flex flex-col fixed top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 h-2/3 md:h-1/2 w-4/6 bg-slate-100 z-10 shadow-2xl rounded-lg",children:[(0,r.jsx)("div",{className:"bg-stone-200 p-1 rounded-t-lg",children:(0,r.jsx)("div",{className:"text-[0.7rem] leading-[0.9rem] rounded-full bg-red-500 hover:bg-red-800 w-4 h-4 text-center ml-auto",onClick:()=>{i("hidden")},children:"X"})}),(0,r.jsxs)("div",{className:"text-center m-auto pl-4 pr-4 text-xl md:text-[1.4rem] md:leading-8",children:["You're a right good pub-goer.",(0,r.jsx)("br",{}),"Well on ya, mate!",(0,r.jsx)("br",{})]}),(0,r.jsxs)("div",{className:"grid grid-rows-2 md:grid-cols-2 mt-auto items-center p-6 text-lg sm:text-xl  md:text-[1.25rem] text-center",children:[(0,r.jsx)("a",{className:" bg-pubyellow border-pubblue hover:bg-amber-200 border-2 rounded-full mb-4 md:mb-0 md:mr-4 mr-0",href:"/",children:"Continue Shopping"}),(0,r.jsx)("a",{className:" bg-pubblue border-pubyellow hover:bg-sky-200 border-2 rounded-full md:ml-4 ml-0",href:"/cart",children:"Go To Cart"})]})]})}function u(e){let{publication_key:t}=e,[n,u]=(0,i.useContext)(o.A),[a,l]=(0,i.useState)("hidden");return(0,r.jsxs)("div",{children:[(0,r.jsx)(s,{isHidden:a,setHidden:l,publication_key:t}),(0,r.jsx)("div",{href:"/cart",className:"h-6 w-auto p-4 bg-[#93c47d] text-stone-800 hover:bg-amber-50 border-[#f1c232] border-2 rounded-full text-center align-middle leading-[0rem] text-[0.75rem]  sm:text-[1rem]  md:text-[1.25rem] whitespace-nowrap ",onClick:()=>{!function(){let e={...n};e[t]?e[t].quantity+=1:e[t]={quantity:1},console.log(e),u(t=>({...e}))}(),l("visible")},children:"Add To Cart"})]})}},6176:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(2265);let i=(0,r.createContext)([])},134:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(7437);n(3563);var i=n(6691),o=n.n(i),s=n(2265);function u(e){let{publication:t,image_paths:n}=e,[i,u]=(0,s.useState)(!1),[a,l]=(0,s.useState)(t.coverImage);n.filter(e=>e!=a);let c=e=>{if("bg"==e.target.id)u(!1);else if("forward"==e.target.id){let e=(n.indexOf(a)+1)%n.length;l(n[e])}else if("back"==e.target.id){let e=((n.indexOf(a)-1)%n.length+n.length)%n.length;l(n[e])}};return(0,r.jsxs)("div",{className:"pb-6 sm:pl-10 sm:pr-10 flex flex-col items-center",children:[(0,r.jsx)(o(),{className:i?"fixed z-20 top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2":"pb-4",priority:!0,src:a,alt:"$(publication.title) cover image",width:100,height:75,quality:90,sizes:"100vw",style:{width:"100%",height:"auto"},onClick:()=>{u(!0)}}),(0,r.jsx)("div",{className:"flex flex-row overflow-scroll md:h-[5rem] h-[3rem]",children:n.map(e=>(0,r.jsx)(o(),{className:e===a?"pr-2 opacity-100":"pr-2 opacity-50",onClick:()=>l(e),src:e,alt:"$(publication.title) cover image",width:100,height:100,quality:25,sizes:"100vw",style:{width:"auto",height:"100%"}},e))}),i&&(0,r.jsxs)("div",{id:"bg",className:"bg-black fixed top-0 left-0 h-screen w-screen z-10",onClick:e=>c(e),children:[(0,r.jsx)("div",{id:"back",className:"fixed z-30 left-0  opacity-60 h-full text-white text-[5rem] p-4",onClick:e=>c(e),children:(0,r.jsx)("div",{id:"back",className:" relative top-1/2 -translate-y-1/2",children:"<"})}),(0,r.jsx)("div",{id:"forward",className:"fixed z-30 right-0 opacity-60 h-full text-white text-[5rem] p-4 shadow-2xl shadow-rose-700",onClick:e=>c(e),children:(0,r.jsx)("div",{id:"forward",className:"relative top-1/2 -translate-y-1/2",children:">"})})]})]})}},8724:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(7437),i=n(5833),o=n(2265);let s=async e=>{let t=await fetch("https://p3p22yr8sg.execute-api.eu-west-2.amazonaws.com/default/checkInventory?"+new URLSearchParams({productId:e}));if(t.ok){let e=await t.json();return console.log(e),e}};function u(e){let{publication:t,publication_key:n}=e,[u,a]=(0,o.useState)({soldOut:!1,itemsLeft:0});return(0,o.useEffect)(()=>{console.log("updating inv."),s(n).then(e=>{let n=!(e.lockedInventory<=t.stockQuantity),r=e.lockedInventory;a({soldOut:n,itemsLeft:r})})},[]),(0,r.jsxs)("div",{className:"grid grid-cols-1 m-2 sm:m-6 uppercase font-medium leading-5",children:[(0,r.jsx)("b",{children:t.title}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{className:"",children:"Published in "+t.publicationYear}),(0,r.jsx)("li",{className:"",children:t.detail})]}),(0,r.jsx)("p",{className:"mt-2 mb-4 w-inherit ",children:t.info}),(0,r.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex flex-col text-sm md:",children:[!u.soldOut&&(0,r.jsx)("div",{children:"(".concat(u.itemsLeft,"/").concat(t.stockQuantity,")")}),u.soldOut&&(0,r.jsx)("a",{className:" underline hover:text-pubblue",href:"mailto:support@yourlocalpublication.com?subject=Print more copies of ".concat(t.title,"&body=I want to buy one \uD83D\uDE00"),children:"Print more!"}),(0,r.jsx)("div",{className:"font-bold",children:"\xa3"+t.price})]}),u.soldOut&&(0,r.jsx)("div",{className:"h-6 w-auto p-4  text-stone-800 border-pubred border-2 rounded-full text-center align-middle md:text-[1.25] leading-[0rem] text-[.75rem] whitespace-nowrap",children:" Sold out!"}),!u.soldOut&&(0,r.jsx)(i.default,{publication_key:n})]})]})}},3563:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{MODERN_BROWSERSLIST_TARGET:function(){return i.default},COMPILER_NAMES:function(){return o},COMPILER_INDEXES:function(){return s},PHASE_EXPORT:function(){return u},PHASE_PRODUCTION_BUILD:function(){return a},PHASE_PRODUCTION_SERVER:function(){return l},PHASE_DEVELOPMENT_SERVER:function(){return c},PHASE_TEST:function(){return d},PHASE_INFO:function(){return f},PAGES_MANIFEST:function(){return _},APP_PATHS_MANIFEST:function(){return E},APP_PATH_ROUTES_MANIFEST:function(){return m},BUILD_MANIFEST:function(){return T},APP_BUILD_MANIFEST:function(){return I},FUNCTIONS_CONFIG_MANIFEST:function(){return S},SUBRESOURCE_INTEGRITY_MANIFEST:function(){return p},NEXT_FONT_MANIFEST:function(){return N},EXPORT_MARKER:function(){return h},EXPORT_DETAIL:function(){return x},PRERENDER_MANIFEST:function(){return A},ROUTES_MANIFEST:function(){return R},IMAGES_MANIFEST:function(){return g},SERVER_FILES_MANIFEST:function(){return b},DEV_CLIENT_PAGES_MANIFEST:function(){return v},MIDDLEWARE_MANIFEST:function(){return P},DEV_MIDDLEWARE_MANIFEST:function(){return C},REACT_LOADABLE_MANIFEST:function(){return L},FONT_MANIFEST:function(){return O},SERVER_DIRECTORY:function(){return j},CONFIG_FILES:function(){return M},BUILD_ID_FILE:function(){return y},BLOCKED_PAGES:function(){return D},CLIENT_PUBLIC_FILES_PATH:function(){return F},CLIENT_STATIC_FILES_PATH:function(){return w},CLIENT_STATIC_FILES_RUNTIME:function(){return U},STRING_LITERAL_DROP_BUNDLE:function(){return k},NEXT_BUILTIN_DOCUMENT:function(){return B},NEXT_CLIENT_SSR_ENTRY_SUFFIX:function(){return G},CLIENT_REFERENCE_MANIFEST:function(){return Y},SERVER_REFERENCE_MANIFEST:function(){return W},MIDDLEWARE_BUILD_MANIFEST:function(){return z},MIDDLEWARE_REACT_LOADABLE_MANIFEST:function(){return H},CLIENT_STATIC_FILES_RUNTIME_MAIN:function(){return V},CLIENT_STATIC_FILES_RUNTIME_MAIN_APP:function(){return X},APP_CLIENT_INTERNALS:function(){return q},CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH:function(){return K},CLIENT_STATIC_FILES_RUNTIME_AMP:function(){return Q},CLIENT_STATIC_FILES_RUNTIME_WEBPACK:function(){return $},CLIENT_STATIC_FILES_RUNTIME_POLYFILLS:function(){return Z},CLIENT_STATIC_FILES_RUNTIME_POLYFILLS_SYMBOL:function(){return J},EDGE_RUNTIME_WEBPACK:function(){return ee},TEMPORARY_REDIRECT_STATUS:function(){return et},PERMANENT_REDIRECT_STATUS:function(){return en},STATIC_PROPS_ID:function(){return er},SERVER_PROPS_ID:function(){return ei},PAGE_SEGMENT_KEY:function(){return eo},GOOGLE_FONT_PROVIDER:function(){return es},OPTIMIZED_FONT_PROVIDERS:function(){return eu},DEFAULT_SERIF_FONT:function(){return ea},DEFAULT_SANS_SERIF_FONT:function(){return el},STATIC_STATUS_PAGES:function(){return ec},TRACE_OUTPUT_VERSION:function(){return ed},TURBO_TRACE_DEFAULT_MEMORY_LIMIT:function(){return ef},RSC_MODULE_TYPES:function(){return e_},EDGE_UNSUPPORTED_NODE_APIS:function(){return eE},SYSTEM_ENTRYPOINTS:function(){return em}});let r=n(1024),i=r._(n(4071)),o={client:"client",server:"server",edgeServer:"edge-server"},s={[o.client]:0,[o.server]:1,[o.edgeServer]:2},u="phase-export",a="phase-production-build",l="phase-production-server",c="phase-development-server",d="phase-test",f="phase-info",_="pages-manifest.json",E="app-paths-manifest.json",m="app-path-routes-manifest.json",T="build-manifest.json",I="app-build-manifest.json",S="functions-config-manifest.json",p="subresource-integrity-manifest",N="next-font-manifest",h="export-marker.json",x="export-detail.json",A="prerender-manifest.json",R="routes-manifest.json",g="images-manifest.json",b="required-server-files.json",v="_devPagesManifest.json",P="middleware-manifest.json",C="_devMiddlewareManifest.json",L="react-loadable-manifest.json",O="font-manifest.json",j="server",M=["next.config.js","next.config.mjs"],y="BUILD_ID",D=["/_document","/_app","/_error"],F="public",w="static",U="runtime",k="__NEXT_DROP_CLIENT_FILE__",B="__NEXT_BUILTIN_DOCUMENT__",G=".__ssr__",Y="client-reference-manifest",W="server-reference-manifest",z="middleware-build-manifest",H="middleware-react-loadable-manifest",V="main",X=""+V+"-app",q="app-pages-internals",K="react-refresh",Q="amp",$="webpack",Z="polyfills",J=Symbol(Z),ee="edge-runtime-webpack",et=307,en=308,er="__N_SSG",ei="__N_SSP",eo="__PAGE__",es="https://fonts.googleapis.com/",eu=[{url:es,preconnect:"https://fonts.gstatic.com"},{url:"https://use.typekit.net",preconnect:"https://use.typekit.net"}],ea={name:"Times New Roman",xAvgCharWidth:821,azAvgWidth:854.3953488372093,unitsPerEm:2048},el={name:"Arial",xAvgCharWidth:904,azAvgWidth:934.5116279069767,unitsPerEm:2048},ec=["/500"],ed=1,ef=6e3,e_={client:"client",server:"server"},eE=["clearImmediate","setImmediate","BroadcastChannel","ByteLengthQueuingStrategy","CompressionStream","CountQueuingStrategy","DecompressionStream","DomException","MessageChannel","MessageEvent","MessagePort","ReadableByteStreamController","ReadableStreamBYOBRequest","ReadableStreamDefaultController","TransformStreamDefaultController","WritableStreamDefaultController"],em=new Set([V,K,Q,X]);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1295:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return l},unstable_getImgProps:function(){return a}});let r=n(1024),i=n(2301),o=n(7873),s=n(3222),u=r._(n(5033)),a=e=>{(0,o.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:t}=(0,i.getImgProps)(e,{defaultLoader:u.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}},l=s.Image},4071:function(e){"use strict";e.exports=["chrome 64","edge 79","firefox 67","opera 51","safari 12"]},622:function(e,t,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2265),i=Symbol.for("react.element"),o=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function a(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.jsx=a,t.jsxs=a},7437:function(e,t,n){"use strict";e.exports=n(622)},6691:function(e,t,n){e.exports=n(1295)}}]);